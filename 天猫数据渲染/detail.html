<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
    <style>
        .con {
            width: 900px;
            height: 500px;
            margin: 50px auto;
        }

        img {
            width: 300px;
        }

        #price {
            color: red;
        }
    </style>
</head>

<body>
    <div class="con">
        <h1>详情页面</h1>
        <img src="" alt="" id="imgId">
        <div id="name">商品名字</div>
        <div id="price">商品价格</div>
    </div>

    <script>
        //获取当前页面URL路径的查询字符串并且中文转码处理
        //注意点：URL中不允许有中文，如果有中文会进行字符转码
        //encodeURL()  中文->字符串
        //decodeURL()  字符串->中文 
        window.onload = function () {
            var queryString = decodeURI(window.location.search.slice(1)); //删除字符串中的？
            // var queryString = window.location.search;
            console.log(queryString);

            var data = queryStringToObj(queryString);

            var _name = document.getElementById("name");
            var _price = document.getElementById("price");
            var _img = document.getElementById("imgId");

            _name.innerText = data.productName;
            _price.innerText = data.price;
            _img.src = data.src;

            function queryStringToObj(str) {
                var obj = {};
                var arr1 = str.split("&");
                for (var i = 0, len = arr1.length; i < len; i++) {
                    var arr2 = arr1[i].split("=");
                    obj[arr2[0]] = arr2[1];
                }
                return obj;
            }
        }
    </script>

</body>

</html>